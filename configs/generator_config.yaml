# Настройки генерации
generation:
  num_samples: 50  # Используется только для офлайн генерации
  forgeries_per_source: 10  # Количество подделок на один оригинал
  output_dir: "./outputs"
  save_masks: true
  image_format: "png"
  operations_per_image: [1, 3]

# Пути к данным
paths:
  source_images: "./sources/images"
  source_markup: "./sources/markup"
  output_images: "./outputs/images"
  output_masks: "./outputs/masks"

# Splicing манипуляции
splicing:
  enabled: true
  operations:
    bbox_swap:
      enabled: false
      probability: 0.4
      #allowed_categories: ["text", "date", "number", "name"]
    
    external_patch:
      enabled: false
      probability: 0.6
      max_patches: 3
      patch_size_range: [50, 300]  # min, max размер вставки
      source_diversity: 0.7        # вероятность использовать внешний документ

    internal_swap:
      enabled: false
      probability: 0.5
    
    inpaint_borders:
      enabled: false
      probability: 0.4
      num_bboxes: [1, 3]         # выбрать N случайных bbox из разметки
      allowed_categories: []     # пустой список = любые категории
      radius: 10                  # радиус inpaint
      method: "telea"            # telea | ns
    
    inpaint_random:
      enabled: false
      probability: 0.5
      num_spots: [1, 6]          # количество пятен для инпейнта
      spot_size: [64, 128]         # размер пятен (диаметр/сторона)
      shapes: ["circle", "rect"] # формы пятен
      radius: 3
      method: "telea"

    random_patch_paste:
      enabled: false
      probability: 0.6
      same_image_prob: 0.5        # вероятность взять патч из той же картинки
      insert_into_bbox_prob: 0.6  # вероятность вставить патч в существующий bbox
      patch_size_range: [32, 256] # сторона/ширина патча источника (px)

    digital_signature:
      # Основные настройки
      enabled: true
      random_position_prob: 1.0
      signature_cache_size: 50  # Количество предгенерированных подписей
      
      # Размеры подписей
      width_options: [150, 180, 200, 220, 250, 280]  # Возможные ширины подписей
      height_options: [40, 50, 60, 70, 80]           # Возможные высоты подписей
      
      # Параметры стиля
      base_amplitude_range: [0.15, 0.35]    # Амплитуда базовой кривой (меньше = плавнее)
      noise_level_range: [0.01, 0.05]       # Уровень случайных колебаний
      smoothness_range: [0.8, 0.95]         # Сглаживание линий
      thickness_variation_range: [0.1, 0.2] # Вариация толщины линии
      color_variance_range: [5, 20]         # Разброс цвета (меньше = однороднее)
      complexity_options: ['simple', 'medium'] # Уровни сложности подписи
      slant_range: [-0.2, 0.2]              # Наклон подписи
      speed_effect_range: [0.05, 0.2]       # Эффект скорости письма
      
      # Вероятности добавления элементов
      underline_prob: 0.3         # Вероятность подчеркивания
      initial_element_prob: 0.4   # Вероятность начального элемента
      flourish_prob: 0.5          # Вероятность концевого росчерка
      dots_prob: 0.3              # Вероятность добавления точек
      
      # Толщина линий
      base_thickness_options: [2, 3] # Базовая толщина линии в пикселях
      
      # Цветовые параметры
      base_color_range: [15, 35]  # Диапазон базового цвета (темнее = лучше видимость)
      
      # Эффекты
      blur_prob: 0.3              # Вероятность применения размытия
      blur_kernel_options: [1, 3] # Возможные размеры ядра размытия (только нечетные)
      noise_prob: 0.4             # Вероятность добавления шума
      noise_strength_range: [0.3, 1.0] # Сила шума
      
      # Параметры наложения
      scale_range: [0.8, 1.2]     # Диапазон масштабирования подписи
      opacity_range: [0.85, 0.95] # Прозрачность при наложении

# Настройки качества
quality:
  jpeg_compression:
    enabled: false
    prob: 0.7
    quality: [80, 95]
